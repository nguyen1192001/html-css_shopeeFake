(("undefined"!=typeof self?self:this).webpackJsonp=("undefined"!=typeof self?self:this).webpackJsonp||[]).push([[111],{1057:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),a=n(962);n(1141);var o=function(){return r.createElement("div",{className:"spinner-container"},r.createElement(a.a,{hideOverlay:!0,show:!0}))}},1128:function(e,t,n){"use strict";var r=n(1057);n.d(t,"a",function(){return r.a})},1141:function(e,t,n){},1153:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n(0),a=n(47),o=n.n(a),i=n(409),s=n(922),c=n(413),l=n(119),u=n(1246),d=n(54);n(1278);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f=function(e){var t=e.headerButton,n=e.onHeaderButtonClick,a=e.simpleVersion,o=e.hasNoNavigation,i=e.customButtonContent,u=e.headerButtonStyle,d=e.headerSectionButtonProps,f=t.linkTo,m=i||r.createElement(r.Fragment,null,t.text,"Â ",r.createElement(c.a,null)),h=a?r.createElement(l.a,p({targetType:"SeeAllButton",style:u},d),m):r.createElement(l.c,p({targetType:"SeeAllButton",style:u},d),m);return o?r.createElement("div",{className:"shopee-header-section__header-link",onClick:function(e){n&&n(e)}},h):r.createElement(s.a,{to:f,className:"shopee-header-section__header-link",onClick:function(e){n&&n(e)}},h)},m=Object(i.a)(function(e){var t=e.headerText,n=e.headerButton,a=e.children,i=e.simpleVersion,s=e.classNames,c=e.customButtonContent,l=e.hasNoNavigation,m=e.onHeaderButtonClick,h=e.style,v=void 0===h?{}:h,b=e.trackingRef,g=e.headerStyle,_=void 0===g?{}:g,y=e.customHeader,C=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["headerText","headerButton","children","simpleVersion","classNames","customButtonContent","hasNoNavigation","onHeaderButtonClick","style","trackingRef","headerStyle","customHeader"]),I={backgroundImage:y&&y.background_image?"url("+Object(d.e)(y.background_image)+")":void 0};return r.createElement("div",{className:o()("shopee-header-section",s,!!i&&"shopee-header-section--simple"),ref:b||null,style:v},r.createElement("div",{className:"shopee-header-section__header",style:I},r.createElement("div",{className:"shopee-header-section__header__title",style:_},r.createElement(u.a,{headerText:t,customHeader:y})),!!n&&r.createElement(f,{headerButton:n,simpleVersion:!!i,hasNoNavigation:!!l,customButtonContent:c,onHeaderButtonClick:m,headerButtonStyle:_&&_.seeAllColor?{color:_.seeAllColor}:_&&_.color?{color:_.color}:{},headerSectionButtonProps:p({},C)})),r.createElement("div",{className:"shopee-header-section__content"},a))},"HeaderSection",{reportOnce:!0})},1176:function(e,t,n){"use strict";var r=function(){};e.exports=r},1246:function(e,t,n){"use strict";var r=n(0),a=n(54),o=n(338),i=function(e){var t=e.customHeader;return r.createElement("img",{src:Object(a.e)(t.image),style:{width:t.display_width?Object(o.a)(t.display_width):"auto",height:t.display_height?Object(o.a)(t.display_height):"auto"}})};t.a=function(e){var t=e.headerText,n=e.customHeader;return n?n.image?r.createElement(i,{customHeader:{image:n.image,display_width:n.display_width,display_height:n.display_height}}):r.createElement("span",{style:{color:n.color}},t):t||null}},1248:function(e,t,n){"use strict";var r=n(1153);n.d(t,"a",function(){return r.a})},1256:function(e,t,n){"use strict";n.d(t,"a",function(){return v}),n.d(t,"b",function(){return b});var r=n(0),a=n.n(r),o=n(47),i=n.n(o),s=(n(1305),n(330)),c=n(1176),l=n.n(c),u=n(398);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=function(e){return a.a.createElement("svg",d({enableBackground:"new 0 0 13 20",viewBox:"0 0 13 20"},e),a.a.createElement("path",{stroke:"none",d:"m4.2 10l7.9-7.9-2.1-2.2-9 9-1.1 1.1 1.1 1 9 9 2.1-2.1z"}))},f=Object(u.a)(p,"arrow-left-bold"),m=n(1303);var h=function(e){var t,n;function a(t){var n;return(n=e.call(this,t)||this).isDisabled=function(){var e=n.props,t=e.looping,r=e.direction,a=e.activeIndex,o=e.childrenCount;if(t)return!1;var i=a+r;return i<0||i>=o},n.onClick=function(e){if(e.preventDefault(),!n.isDisabled()){var t=n.props,r=t.direction,a=t.activeIndex;n.props.onClick(a+r)}},n}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props,t=e.direction,n=e.arrowDisplayType,a=e.forceHidden;return r.createElement("div",{className:i()("stardust-carousel__arrow","stardust-carousel__arrow--type-"+n,a?"stardust-carousel__arrow--hidden":null,"stardust-carousel__arrow--"+(t<0?"prev":"next"),this.isDisabled()?"stardust-carousel__arrow--disabled":null),onClick:this.onClick},t<0?r.createElement(f,null):r.createElement(m.a,null))},a}(r.PureComponent),v={HIDDEN:0,SHOW_ON_HOVER:1,SHOW_ALWAYS:2},b={NONE:0,DOTS:1,INDEX:2,TABS:3},g={RIGHT:1,LEFT:-1},_=100,y=5,C=3;n(1306);var I=function(e){var t=e.arrowDisplayType,n=e.looping,a=e.activeIndex,o=e.childrenCount,i=e.onArrowClicked;if(t===v.HIDDEN)return null;var s=!1,c=!1;return t===v.SHOW_ON_HOVER&&(s=o<=1||!n&&a<=0,c=o<=1||!n&&a>=o-1),r.createElement(r.Fragment,null,r.createElement(h,{direction:g.LEFT,arrowDisplayType:t,activeIndex:a,childrenCount:o,forceHidden:s,looping:n,onClick:i}),r.createElement(h,{direction:g.RIGHT,arrowDisplayType:t,activeIndex:a,childrenCount:o,forceHidden:c,looping:n,onClick:i}))};var E=function(e){var t,n;function a(t){var n;return(n=e.call(this,t)||this).onClick=function(e){e.preventDefault(),n.props.onClick(n.props.index)},n}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props.isActive;return r.createElement("div",{className:i()("stardust-carousel__dot",{"stardust-carousel__dot--active":e}),onClick:this.onClick})},a}(r.PureComponent);n(1307);var w=function(e){var t=e.looping,n=e.activeIndex,a=e.childrenCount,o=e.onDotClicked;return a<=1?null:r.createElement("div",{className:"stardust-carousel__dots"},Array(a).fill(0).map(function(e,a){return r.createElement(E,{key:a,index:t?a+1:a,onClick:o,isActive:t?n===a+1:n===a})}))};n(1308);var S=function(e){var t=e.activeChildrenIndex,n=e.childrenCount;return r.createElement("div",{className:"stardust-carousel__indexing"},t+1+"/"+n)};var O=function(e){var t,n;function a(t){var n;return(n=e.call(this,t)||this).onClick=function(e){e.preventDefault(),n.props.onClick(n.props.index)},n}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props,t=e.name,n=e.isActive;return r.createElement("div",{className:i()("stardust-carousel__tab",{"stardust-carousel__tab--active":n}),onClick:this.onClick},r.createElement("span",{className:"stardust-carousel__tab-name"},t))},a}(r.PureComponent);n(1309);var T=function(e){var t=e.looping,n=e.onTabClicked,a=e.childrenCount,o=e.activeIndex,i=e.tabNames;return l()(i.length===a,"[Carousel]","[SCWARN006]","The given props.tabNames length does not correspond to number of children"),r.createElement("div",{className:"stardust-carousel__tabs"},Array(a).fill(0).map(function(e,a){return r.createElement(O,{key:a,index:t?a+1:a,onClick:n,isActive:t?o===a+1:o===a,name:i[a]})}))};function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var N=function(e){var t,n;function a(t){var n,a;return(a=e.call(this,t)||this).direction=g.RIGHT,a.isSwiping=!1,a._finalChildren=null,a._carouselItemListWidth=null,a.__reflowCount=0,a._swipeStartX=0,a._swipeStartY=0,a._swipeVx=0,a._swipeLastX=0,a._swipeStarted=!1,a._swipeMoved=!1,a._autoPlayId=null,a._transitionTimeoutId=null,a._slideId=null,a._calculateItemListWidthIdleCallbackId=null,a.reportCarouselPosition=function(e,t,n){if(t){var r=a.getCarouselItemListWidth();"function"==typeof a.props.carouselPositionListener&&a.props.carouselPositionListener(e-t/r,n)}else"function"==typeof a.props.carouselPositionListener&&a.props.carouselPositionListener(e,n)},a.handleSwipeStart=function(e){a.childrenCount<=1||(e.stopPropagation(),a._swipeStartX=e.changedTouches[0].pageX,a._swipeStartY=e.changedTouches[0].pageY,a._swipeVx=0,a._swipeLastX=a._swipeStartX,a._swipeStarted=!0,a._swipeMoved=!1)},a.handleSwipeMove=function(e){if(a._swipeStarted){var t=e.changedTouches[0].pageX,n=e.changedTouches[0].pageY,r=t-a._swipeStartX;if(e.stopPropagation(),!a._swipeMoved){var o=n-a._swipeStartY;a.isSwiping=Math.abs(r)>Math.abs(o)&&Math.abs(r)>C,(a.isSwiping||Math.abs(o)>C)&&(a._swipeMoved=!0,a._swipeStartX=t,r=t-a._swipeStartX)}a.isSwiping&&(a.animateCarousel(a.state.activeIndex,r),a._swipeVx=.5*a._swipeVx+.5*(t-a._swipeLastX),a._swipeLastX=t)}},a.handleSwipeEnd=function(e){var t=a.props,n=t.onChangeIndex,r=t.looping;if(a._swipeStarted&&a.isSwiping){a._swipeStarted=!1,a._swipeMoved=!1,a.isSwiping=!1,e.stopPropagation();var o=e.changedTouches[0].pageX-a._swipeStartX,i=a.state.activeIndex;Math.abs(a._swipeVx)>y?a._swipeVx>0?i-=1:i+=1:o>.5*a.getCarouselItemListWidth()?i-=1:o<.5*-a.getCarouselItemListWidth()&&(i+=1),r||(i<0||i>=a.childrenCount)&&(i=a.state.activeIndex),a.animateCarousel(i,0,_),i!==a.state.activeIndex&&("function"==typeof n&&n(a.getItemIndex(i)),a._transitionTimeoutId=setTimeout(function(){a.handleSlideEnd(i)},_))}},a.getCarouselItemListWidth=function(){return a.__reflowCount>0&&l()(null!=a._carouselItemListWidth,"[Carousel] [SCWARN004] Expensive DOM operation (reflow) is about to occur again. Reflow count so far: "+a.__reflowCount),null==a._carouselItemListWidth&&a._carouselItemListRef.current&&a._carouselItemListRef.current.firstElementChild&&a._carouselItemListRef.current.firstElementChild instanceof HTMLElement&&(a._carouselItemListWidth=a._carouselItemListRef.current.firstElementChild.getBoundingClientRect().width,a.__reflowCount+=1),l()(null!=a._carouselItemListWidth,"[Carousel] [SCWARN005] carouselItemListWidth is still falsy, casting to 0"),a._carouselItemListWidth||0},a.getItemListWrapperStyle=function(){return{paddingTop:1/a.props.ratio*100+"%"}},a.getItemListStyle=function(){return{width:100*(a.props.looping?a.childrenCount+2:a.childrenCount)+"%"}},a.getItemWidthPercentage=function(){return 100/(a.props.looping?a.childrenCount+2:a.childrenCount)},a.getItemStyle=function(){return{width:a.getItemWidthPercentage()+"%"}},a.isItemInnerWrapperHidden=function(e){return!(a.props.displayAllItemsOnInitialLoad||!a._isChildDisplayed[e])&&e!==a.state.activeIndex},a.animateCarousel=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=0);var r=a._carouselItemListRef.current;if(r){r.style.transition=n+"ms";var o=a.getCurrentCarouselTransform(e,t);r.style.webkitTransform=o,r.style.transform=o,a.reportCarouselPosition(e,t,n)}},a.renewAutoPlay=function(){a.stopAutoPlay(),a._autoPlayId=setTimeout(a.requestIdleCallbackSlide,a.props.autoPlayDelay)},a.stopAutoPlay=function(){a._autoPlayId&&clearTimeout(a._autoPlayId)},a.requestIdleCallbackSlide=function(e){void 0===e&&(e=a.state.activeIndex+1),a._slideId&&Object(s.a)(a._slideId),a._slideId=Object(s.b)(function(){return a.slide(e,{fromAutoPlay:!0})},{timeout:2e3})},a.slide=function(e,t){var n=void 0===t?{skipAnimation:!1,fromAutoPlay:!1}:t,r=n.skipAnimation,o=n.fromAutoPlay,i=a.state.activeIndex,s=a.props,c=s.autoPlay,l=s.looping,u=s.onChangeIndex,d=s.transitionTime,p=e;c&&!l&&o&&(a.direction===g.RIGHT&&i>=a.childrenCount-1?a.direction=g.LEFT:a.direction===g.LEFT&&i<=0&&(a.direction=g.RIGHT),p=i+a.direction),a.childrenCount<=1||p!==i&&(a.state.isSliding||(a._isChildDisplayed[p]||(a._isChildDisplayed[p]=!0),"function"==typeof u&&u(a.getItemIndex(p)),a.setState({isSliding:!0}),a.animateCarousel(p,0,r?0:d),a._transitionTimeoutId=setTimeout(function(){a.handleSlideEnd(p)},r?0:d)))},a.handleSlideEnd=function(e){var t=e;a._transitionTimeoutId=null,a.props.looping&&(0===t?(t=a.childrenCount,a.animateCarousel(t)):t===a.childrenCount+1&&(t=1,a.animateCarousel(t))),a.props.autoPlay&&a.renewAutoPlay(),a.setState({isSliding:!1,activeIndex:t})},a.childrenCount=r.Children.count(a.props.children),l()(a.childrenCount>0,"[Carousel] [SCWARN001] Empty children!"),l()(a.props.ratio>0,"[Carousel] [SCWARN002] Ratio prop is required!"),l()(a.props.indexType!==b.TABS||Array.isArray(a.props.tabNames),"[Carousel] [SCWARN003] tabNames prop is required when indexType=tabs!"),a.state={activeIndex:Math.min(a.props.startingIndex,a.childrenCount?a.childrenCount-1:0)+(a.props.looping?1:0),isSliding:!1},a._isChildDisplayed=((n={})[a.state.activeIndex]=!0,n),a._carouselRef=r.createRef(),a._carouselItemListRef=r.createRef(),a}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o,c,u,d=a.prototype;return d.componentDidMount=function(){var e=this,t=this.state.activeIndex,n=this.props,r=n.onChangeIndex;n.autoPlay?("function"==typeof r&&r(this.getItemIndex(t)),this.animateCarousel(t),this.renewAutoPlay()):(this.handleSlideEnd(t),this.animateCarousel(t)),this._calculateItemListWidthIdleCallbackId=Object(s.b)(function(){e.getCarouselItemListWidth()},{timeout:3e4}),this._carouselRef.current&&this._carouselRef.current.addEventListener("touchmove",this.handleSwipeMove,{passive:!1})},d.componentWillUnmount=function(){this.__reflowCount=0,this.props.autoPlay&&this.stopAutoPlay(),this._transitionTimeoutId&&clearTimeout(this._transitionTimeoutId),this._slideId&&Object(s.a)(this._slideId),this._calculateItemListWidthIdleCallbackId&&Object(s.a)(this._calculateItemListWidthIdleCallbackId),this._carouselRef.current&&this._carouselRef.current.removeEventListener("touchmove",this.handleSwipeMove,{passive:!1})},d.componentDidUpdate=function(e){e.autoPlay&&!this.props.autoPlay?this.stopAutoPlay():!e.autoPlay&&this.props.autoPlay&&this.renewAutoPlay(),e.children===this.props.children&&this.childrenCount===r.Children.count(this.props.children)||(this._finalChildren=null,this.childrenCount=r.Children.count(this.props.children),this.forceUpdate(),this.props.autoPlay&&this.renewAutoPlay())},d.getCurrentCarouselTransform=function(e,t){return void 0===t&&(t=0),this._carouselItemListRef.current?"translateX("+-e*this.getItemWidthPercentage()+"%) translateX("+t+"px)":""},d.getItemIndex=function(e){return this.props.looping?(e-1+this.childrenCount)%this.childrenCount:e},d.render=function(){var e=this,t=this.props,n=t.className,a=t.tabNames,o=t.arrowDisplayType,s=t.looping,c=t.indexType,l=this.state.activeIndex,u=this.getItemListWrapperStyle(),d=this.getItemListStyle(),p=this.getItemStyle();return r.createElement("div",{className:i()("stardust-carousel",n),onTouchStart:this.handleSwipeStart,onTouchEnd:this.handleSwipeEnd,ref:this._carouselRef},r.createElement("div",{className:"stardust-carousel__item-list-wrapper",style:u},r.createElement("ul",{className:"stardust-carousel__item-list",style:d,ref:this._carouselItemListRef},this.finalChildren.map(function(t,n){return r.createElement("li",{className:"stardust-carousel__item",key:n,style:p},r.createElement("div",{className:i()("stardust-carousel__item-inner-wrapper",e.isItemInnerWrapperHidden(n)&&"stardust-carousel__item-inner-wrapper--hide")},t))}))),r.createElement(I,{arrowDisplayType:o,activeIndex:l,childrenCount:this.childrenCount,looping:s,onArrowClicked:this.slide}),c===b.DOTS?r.createElement(w,{looping:s,activeIndex:l,childrenCount:this.childrenCount,onDotClicked:this.slide}):null,c===b.INDEX?r.createElement(S,{activeChildrenIndex:s?l-1:l,childrenCount:this.childrenCount}):null,c===b.TABS&&a?r.createElement(T,{looping:s,activeIndex:l,childrenCount:this.childrenCount,onTabClicked:this.slide,tabNames:a}):null)},o=a,(c=[{key:"finalChildren",get:function(){var e=this.props,t=e.children,n=e.looping;if(this._finalChildren)return this._finalChildren;var a=r.Children.toArray(t);return n&&a.length>0&&(a.unshift(a[a.length-1]),a.push(a[1])),this._finalChildren=a,a}}])&&k(o.prototype,c),u&&k(o,u),a}(r.Component);N.defaultProps={transitionTime:500,arrowDisplayType:v.SHOW_ON_HOVER,indexType:b.NONE,looping:!0,startingIndex:0,autoPlay:!0,autoPlayDelay:5e3,displayAllItemsOnInitialLoad:!1};t.c=N},1278:function(e,t,n){},1303:function(e,t,n){"use strict";var r=n(398),a=n(0),o=n.n(a);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return o.a.createElement("svg",i({enableBackground:"new 0 0 13 21",viewBox:"0 0 13 21"},e),o.a.createElement("path",{stroke:"none",d:"m11.1 9.9l-9-9-2.2 2.2 8 7.9-8 7.9 2.2 2.1 9-9 1-1z"}))};t.a=Object(r.a)(s,"arrow-right-bold")},1305:function(e,t,n){},1306:function(e,t,n){},1307:function(e,t,n){},1308:function(e,t,n){},1309:function(e,t,n){},1491:function(e,t,n){"use strict";var r;n.d(t,"b",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"a",function(){return o}),function(e){e[e.SALES=0]="SALES",e[e.PRICE=1]="PRICE"}(r||(r={}));var a="/api/v4/recommend/recommend",o=20},1526:function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var i=a.apply(null,r);i&&e.push(i)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},1658:function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return l});var r=n(0),a=n(331),o=n.n(a),i=(n(1794),n(47)),s=n.n(i);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=function(e){var t,n;function a(t){var n;return(n=e.call(this,t)||this)._containerWidth=0,n._scrollWidth=0,n.computeMeasurements=function(){n._tabListRef&&(n._containerWidth=n._tabListRef.offsetWidth,n._scrollWidth=n._tabListRef.scrollWidth)},n.postHeaderUpdate=function(){var e=n.props.activeIndex;n.computeMeasurements(),n.slideIntoView(e)},n.handleTabHeaderClick=function(e){var t=n.props.changeActiveTab;t&&"function"==typeof t&&t(e)},n.slideIntoView=function(e){var t=n._tabRefs[e],r=n._tabWrapperRef;if(t&&r&&!(n._scrollWidth-n._containerWidth<0)){var a=r.scrollLeft||0,o=t.offsetLeft-a,i=t.offsetWidth,s=o-(n._containerWidth-i)/2;a+s<0?s=-a:a+s>n._scrollWidth-n._containerWidth&&(s=n._scrollWidth-n._containerWidth-a),n.cssScrolling(s,t)}},n.cssScrolling=function(e,t){var r=n._tabListRef,a=n._tabWrapperRef,o=n._indicatorRef;if(r&&a&&o){var i=n.props.transitionConfig,s=i.duration,c=i.easeFunction,l=i.delay;r.style.transition="transform "+s+" "+c+" "+l,r.style.transform="translateX("+-e+"px)",o.style.transition="transform "+s+" "+c+" "+l,o.style.transform="translateX("+(t.offsetLeft-e)+"px)",o.style.width=t.clientWidth+"px",n._transitionEndHandler&&r.removeEventListener("transitionend",n._transitionEndHandler),n._transitionEndHandler=function(){n.restoreScrollPosition(t,(a.scrollLeft||0)+e),r.removeEventListener("transitionend",n._transitionEndHandler),n._transitionEndHandler=null},r.addEventListener("transitionend",n._transitionEndHandler)}},n.restoreScrollPosition=function(e,t){var r=n._tabListRef,a=n._indicatorRef;r&&a&&(r.style.transition="transform 0s",r.style.transform="",a.style.transition="transform 0s",a.style.transform="translateX("+e.offsetLeft+"px)",n.scrollTo(t))},n.scrollTo=function(e){requestAnimationFrame(function(){n._tabWrapperRef&&("function"==typeof n._tabWrapperRef.scrollTo?n._tabWrapperRef.scrollTo(e,0):(n._tabWrapperRef.scrollLeft=e,n._tabWrapperRef.scrollTop=0))})},n.indicatorStyle=function(e){var t=n.props,r=t.activeIndex,a=t.headerScrollable,o=t.underlineActiveTab,i=n._tabRefs&&n._tabRefs[r],s={display:o?"block":"none"};return a||(s.width=i?i.clientWidth+"px":100/e+"%",s.transform=i?"translateX("+i.offsetLeft+"px)":"translateX("+100*r+"%)"),s},n._tabRefs=[],n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.componentDidMount=function(){var e=this.props,t=e.headerScrollable,n=e.activeIndex;t&&(this.computeMeasurements(),this.slideIntoView(n))},o.componentDidUpdate=function(e){var t=this.props,n=t.headerScrollable,r=t.activeIndex,a=t.header,o=e.headerScrollable,i=e.activeIndex,s=e.header;n&&(a!==s||a.length!==s.length?requestAnimationFrame(this.postHeaderUpdate):o&&r===i||this.slideIntoView(r))},o.render=function(){var e=this,t=this.props,n=t.headerTop,a=t.header,o=t.activeIndex,i=t.theme,l=t.headerStyle,u=void 0===l?{}:l,d=t.headerScrollable,p=a.filter(function(e){return null!=e}),f=p.length;return r.createElement("nav",{className:s()("stardust-tabs-header-wrapper",d?"stardust-tabs-header-wrapper--scrollable":""),style:c({},u,{top:n}),ref:function(t){return e._tabWrapperRef=t}},r.createElement("ul",{className:s()("stardust-tabs-header",{"stardust-tabs-header--light":"light"===i}),ref:function(t){return e._tabListRef=t}},p.map(function(t,n){return r.createElement("li",{className:s()("stardust-tabs-header__tab",{"stardust-tabs-header__tab--active":o===n}),onClick:function(){return e.handleTabHeaderClick(n)},key:n,ref:function(t){return e._tabRefs[n]=t}},t)})),r.createElement("i",{style:this.indicatorStyle(f),ref:function(t){return e._indicatorRef=t},className:"stardust-tabs-header__tab-indicator"}))},a}(r.Component);function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}l.defaultProps={transitionConfig:{duration:"0.5s",easeFunction:"cubic-bezier(0.15, 0.3, 0.25, 1)",delay:"0s"}};var d=function(e){var t,n;function a(t){var n;return n=e.call(this,t)||this,o()(t.header&&Array.isArray(t.header),"stardust-tabs-container: must pass in an array of ReactElement for the header props"),o()(t.children&&r.Children.count(t.children)===t.header.length,"stardust-tabs-container: tab panels must be equal to the tab headers"),n.state={activeIndex:t.activeIndex,scrollPositions:new Array(t.header.length).fill(0)},n._tabsHeaderAnchorRef=null,n.setTabsHeaderAnchorRef=n.setTabsHeaderAnchorRef.bind(u(n)),n.changeActiveTab=n.changeActiveTab.bind(u(n)),n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=a.prototype;return i.UNSAFE_componentWillReceiveProps=function(e){e.activeIndex!==this.props.activeIndex&&e.activeIndex!==this.state.activeIndex&&this.changeActiveTab(e.activeIndex,!0)},i.componentDidUpdate=function(e){this.updateScrollPositionStateOnUpdate(e.header,this.props.header)},i.updateScrollPositionStateOnUpdate=function(e,t){if(e.length!==t.length){var n=this.state.scrollPositions;this.setState({scrollPositions:Array.from({length:t.length},function(e,t){return n[t]||0})})}},i.setTabsHeaderAnchorRef=function(e){e&&(this._tabsHeaderAnchorRef=e)},i.changeActiveTab=function(e,t){var n=this;if(void 0===t&&(t=!1),(t||!this.props.shouldStopChangeTab||"function"!=typeof this.props.shouldStopChangeTab||!this.props.shouldStopChangeTab(e))&&this._tabsHeaderAnchorRef){var r=function(e){for(var t=0,n=e;n&&n.offsetParent;)"number"==typeof n.offsetTop&&(t+=n.offsetTop),n=n.offsetParent;return t}(this._tabsHeaderAnchorRef)-this.props.headerTop,a=window&&window.scrollY?window.scrollY:0,o=a>=r,i=o?r:a;this.setState({activeIndex:e,scrollPositions:this.state.scrollPositions.map(function(e,t){return o?t===n.state.activeIndex?n.props.scrollTabToTop?0:a-r:e:0})},function(){n.props.onChangeTab&&"function"==typeof n.props.onChangeTab&&n.props.onChangeTab(e);var t=i+n.state.scrollPositions[e];window&&window.scrollTo&&window.scrollTo(window.scrollX,t)})}},i.render=function(){var e=this.props,t=e.header,n=e.headerTop,a=e.children,o=e.theme,i=e.underlineActiveTab,s=e.className,c=e.headerStyle,u=e.headerScrollable,d=e.toRem,p=this.state.activeIndex;return r.createElement("div",{className:s},r.createElement("div",{className:"stardust-tabs-header-anchor",ref:this.setTabsHeaderAnchorRef}),t?r.createElement(l,{activeIndex:p,headerTop:d?d(n):n,changeActiveTab:this.changeActiveTab,header:t,theme:o,underlineActiveTab:i,headerStyle:c,headerScrollable:!!u}):null,r.createElement("div",{className:"stardust-tabs-panels"},r.Children.map(a,function(e,t){return r.createElement("section",{className:"stardust-tabs-panels__panel",style:{display:t!==p?"none":"block"},key:t},e)})))},a}(r.Component);d.defaultProps={headerTop:0,activeIndex:0,theme:"dark",headerScrollable:!1}},1660:function(e,t,n){"use strict";var r=n(1661);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,o,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return n.PropTypes=n,n}},1661:function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},1716:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s});var r,a=n(1),o=n(1491),i=Object(a.b)("FETCH_TOP_PRODUCT_MICROSITE"),s=((r={})[o.b.SALES]="tspmicrosite_sec",r[o.b.PRICE]="tspmicrosite_bp_sec",r)},1728:function(e,t,n){e.exports=n(1660)()},1794:function(e,t,n){},1946:function(e,t,n){"use strict";var r=n(0),a=n(47),o=n.n(a),i=n(970),s=n(409),c=n(2358),l=n.n(c);t.a=Object(s.a)(function(e){var t,n=e.name,a=e.isActive,s=e.isDropdown,c=e.className,u=e.trackingRef,d=e.trackingClick,p=e.onClick;return r.createElement("div",{className:o()(l.a.tab,c||"",(t={},t[l.a.active]=a,t[l.a.disabled]=s,t)),onClick:function(e){s||d(),"function"==typeof p&&p(e)},ref:s?null:u,title:n},n,s&&r.createElement(i.a,{className:l.a.icon}))},"TopProductTab")},1947:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),a=n.n(r),o=n(47),i=n.n(o),s=n(2072),c=n.n(s),l=4;t.b=function(e){var t,n=e.rank,r=e.isNumberOnly,o=e.className,s=n>=l;return a.a.createElement("div",{className:i()(c.a.icon,o||"",(t={},t[c.a.iconFirst]=1===n,t[c.a.iconSecond]=2===n,t[c.a.iconThird]=3===n,t[c.a.iconOther]=s,t[c.a.numberOnly]=r,t))},s&&n)}},1988:function(e,t,n){e.exports={container:"_3b-UMP",itemCard:"_2opCMy",pageTitle:"_2t2dHU",spinner:"_2RFImu"}},2072:function(e,t,n){e.exports={icon:"_2-01rh",iconFirst:"_1VZcwS",iconSecond:"_3zKpCs",numberOnly:"_3uIf63",iconThird:"_1nuSP5",iconOther:"cldjLs"}},2107:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(15),a=Object(r.b)();var o=1e3;switch(a){case"TW":o=1e4;break;default:o=1e3}function i(e,t,n){return void 0===n&&(n=o),e(t,0)+(t>=n?"+":"")}},2138:function(e,t,n){"use strict";n.d(t,"d",function(){return i}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return l}),n.d(t,"a",function(){return u});var r=n(16),a=n(9),o=n(1716);function i(e){var t={sorttype:e};return Object(r.f)(t)}function s(e,t){var n=i(t),r=e&&e[n];return r?r.progress:a.b.INIT}var c=[];function l(e,t){var n=i(t),r=e&&e[n];return r&&r.data?r.data.sections[o.b[t]].data:c}function u(e){return e.list.data}},2166:function(e,t,n){"use strict";var r=n(0),a=n(47),o=n.n(a),i=n(409),s=n(2359),c=n.n(s);t.a=Object(i.a)(function(e){var t,n=e.categoryId,a=e.name,i=e.isActive,s=e.onClick,l=e.trackingRef,u=e.trackingClick;return r.createElement("span",{className:o()(c.a.categoryName,(t={},t[c.a.active]=i,t)),onClick:function(){s(n),u()},ref:l,title:a},a)},"TopProductDropdownItem")},2167:function(e,t,n){e.exports={container:"_2VDLO3"}},2168:function(e,t,n){e.exports={dropdownButton:"_3ksaWX"}},2169:function(e,t,n){e.exports={container:"_2_i4vN",withDropdown:"wL2hLg"}},2194:function(e,t,n){"use strict";var r=n(0),a=n(1248),o=n(139),i=n(1256),s=n(244),c=n(278),l=n(80),u=n(118),d=n(2),p=n(2469),f=n.n(p);t.a=function(e){var t=e.children,n=e.onPageChange;return r.createElement(o.a,{targetType:"HomeTopProducts"},r.createElement(c.a.Consumer,null,function(e){var o=e.customHeader;return r.createElement(a.a,{headerText:r.createElement("span",null,Object(l.t)("label_top_products")),headerButton:{text:Object(l.t)("rcmd_label_see_all"),linkTo:Object(u.topProducts)()},simpleVersion:!0,classNames:f.a.section,customHeader:Object(d.a)(o,[s.FESTIVAL_CUSTOM_HEADERS.TOP_PRODUCTS])},r.createElement(i.c,{autoPlay:!1,looping:!1,indexType:i.b.NONE,arrowDisplayType:i.a.SHOW_ALWAYS,onChangeIndex:n,ratio:1200/325},t))}))}},2195:function(e,t,n){e.exports={container:"_1gJuwj",imageSection:"_1YbGPr",leftImageSection:"_3ZNgSH",rightImageSection:"TOeYr6",mainImage:"_1hbeEx",subImage:"_3bBOWX",subImageWrapper:"_1QL0LL",salesCount:"hatasw",name:"_1GKxgt",firstRank:"_1LhMiz",subRank:"_3gF-NU"}},2196:function(e,t,n){e.exports={page:"_3skDZP",item:"_3Ocs5G"}},2358:function(e,t,n){e.exports={tab:"_2iw66n",active:"_3xqJDI",disabled:"iO0ap7",icon:"_1uwEGx"}},2359:function(e,t,n){e.exports={categoryName:"_1z_Nd8",active:"_3wQplA"}},2360:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(47),i=n.n(o),s=n(1629),c=n(1662),l=n(1947),u=n(80),d=n(2361),p=n.n(d);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var m=Object(c.a)(s.c)({displayCountType:s.a.SOLD,setShowSoldOutBadge:!1,setShowPromotionBadge:!1,setShowRankBadge:!0,setShowLeftBadgePreferredItem:!1,setShowLeftBadgeCoinsBack:!1,setShowLowestPriceGuarentee:!1,setShowCampaignOverlay:!1,setShowInstallmentBadge:!1,setShowSBSBadge:!1,setShowGroupBuyBadge:!1,setShowVideoIndicator:!1,setShowLowestPriceOnly:!0}),h=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.shouldComponentUpdate=function(e){var t=this.props;return e.rank!==t.rank||e.className!==t.className},o.render=function(){var e,t=this.props,n=t.rank,r=t.className,o=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,["rank","className"]);return a.a.createElement("div",{className:i()(p.a.container,r||"")},!!n&&a.a.createElement(l.b,{rank:n,className:i()(p.a.rank,(e={},e[p.a.otherRank]=n>=l.a,e))}),a.a.createElement(m,f({index:n?n-1:0,labelNoRatings:Object(u.t)("rcmd_label_no_ratings_yet"),labelNoRecentSales:Object(u.t)("rcmd_label_no_recent_sales")},o)))},r}(a.a.Component);t.a=h},2361:function(e,t,n){e.exports={container:"_3S8sOC",rank:"_1ybVlH",otherRank:"_234iEJ"}},2362:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),a=n(80),o=n(1337),i=n.n(o),s=n(2363),c=n.n(s);function l(){return r.createElement("div",{className:c.a.container},r.createElement("img",{src:i.a,className:c.a.icon}),r.createElement("div",{className:c.a.text},Object(a.t)("text_search_no_result")))}},2363:function(e,t,n){e.exports={container:"_15CEBj",icon:"_3aO0Il",text:"_22j_2A"}},2469:function(e,t,n){e.exports={section:"_2ijP-U"}},2502:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1658),i=n(1946),s=n(910),c=n(395),l=n(80),u=n(47),d=n.n(u),p=n(2166),f=n(2167),m=n.n(f),h=function(e){var t=e.categories,n=e.activeKey,r=e.className,o=e.landingPageName,i=e.onClick;return a.a.createElement("div",{className:d()(m.a.container,r||"")},t.map(function(e,t){return a.a.createElement(p.a,{key:t,categoryId:e.key,name:e.name,isActive:n===e.key,onClick:i,index:t,landingPageName:o})}))},v=n(2168),b=n.n(v);function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var _=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).getDropdownRef=function(e){e&&(n._ref=e)},n._ref=void 0,n.state={isDropdownOpen:!1},n.openDropdown=n.openDropdown.bind(g(n)),n.closeDropdown=n.closeDropdown.bind(g(n)),n.onClickDropdownItem=n.onClickDropdownItem.bind(g(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.shouldComponentUpdate=function(e,t){return this.state.isDropdownOpen!==t.isDropdownOpen||Object(c.a)(this.props,e,["activeKey","landingPageName"],["dropdownItems"])},o.componentDidMount=function(){this._ref&&(this._ref.addEventListener("mouseenter",this.openDropdown),this._ref.addEventListener("mouseleave",this.closeDropdown))},o.componentWillUnmount=function(){this._ref&&(this._ref.removeEventListener("mouseenter",this.openDropdown),this._ref.removeEventListener("mouseleave",this.closeDropdown))},o.openDropdown=function(){this.setState({isDropdownOpen:!0})},o.closeDropdown=function(){this.setState({isDropdownOpen:!1})},o.onClickDropdownItem=function(e){this.closeDropdown(),this.props.onClickDropdownItem(e)},o.render=function(){var e=this.state.isDropdownOpen,t=this.props,n=t.dropdownItems,r=t.activeKey,o=t.landingPageName;return a.a.createElement("div",{className:b.a.dropdownButton,ref:this.getDropdownRef},a.a.createElement(s.b,{target:a.a.createElement(i.a,{name:Object(l.t)("label_other_top_products"),isDropdown:!0,onClick:this.openDropdown}),open:e,position:s.a.BOTTOM_RIGHT,showArrow:!0,fixedPosition:!0,arrowWidth:30,arrowHeight:10,arrowBackgroundColor:"white",margin:0,closeOnClickOutside:!1,popover:a.a.createElement(h,{categories:n,activeKey:r||n[0]&&n[0].key||"",className:b.a.dropdown,onClick:this.onClickDropdownItem,landingPageName:o})}))},r}(a.a.Component),y=n(855),C=n(1103),I=n(2),E=n(2169),w=n.n(E);function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var T=0,k=function(e){var t,n;function a(t){var n;return(n=e.call(this,t)||this).handleChangeTab=function(e){var t=n.props.onChangeCategory,r=n.state.tabs[e];r&&t(r.key)},n.state={activeTab:T,tabs:[],isExceedMaxTabs:!1},n.shouldStopChangeTab=n.shouldStopChangeTab.bind(O(n)),n.handleChangeTab=n.handleChangeTab.bind(O(n)),n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.getDerivedStateFromProps=function(e,t){var n=e.categories,r=e.catId||Object(I.a)(n,[0,"key"],""),a=n.length>7,o=function(e,t){var n=e.categories,r=e.catId,a=t.tabs;if(function(e){return e.length>7}(n)){var o=n.find(function(e){return e.key===r});return a.length<6&&(a=n.slice(0,6)),a.some(function(e){return e.key===r})||!o?a:[o].concat(n.slice(0,5))}return n}(e,t),i=o.findIndex(function(e){return e.key===r});return S({},t,{tabs:o,activeTab:i>-1?i:T,isExceedMaxTabs:a})};var s=a.prototype;return s.componentDidUpdate=function(e){Object(c.a)(this.props,e,[],["categories"])&&this.setState({tabs:[]})},s.getTopProductTabs=function(){var e=this.props,t=e.categories,n=e.catId,a=e.landingPageName,o=e.onChangeCategory,s=this.state,c=s.activeTab,l=s.isExceedMaxTabs,u=s.tabs.map(function(e,t){return r.createElement(i.a,{name:e.name,isActive:t===c,key:"tab-"+(e.key||t),categoryId:e.key,index:t,landingPageName:a})});return l&&u.push(r.createElement(_,{dropdownItems:t.slice(0,20),activeKey:n,onClickDropdownItem:o,landingPageName:a})),u},s.getTopProductTabContent=function(){var e=this,t=this.state,n=t.tabs,a=t.activeTab,o=t.isExceedMaxTabs,i=n.map(function(t,n){return n===a?r.createElement("div",{className:w.a.container,key:t.key},r.createElement(C.a,null),e.props.children(t,n,!0)):null});return o&&i.push(null),i},s.shouldStopChangeTab=function(e){return this.state.isExceedMaxTabs&&6===e},s.render=function(){var e=this.state,t=e.activeTab,n=e.tabs;return n.length>2?r.createElement(o.a,{activeIndex:t,header:this.getTopProductTabs(),headerTop:0,onChangeTab:this.handleChangeTab,shouldStopChangeTab:this.shouldStopChangeTab,className:this.state.isExceedMaxTabs?w.a.withDropdown:void 0},this.getTopProductTabContent()):n.length>0?r.createElement("div",{className:w.a.container},this.props.children(n[0],0,!0)):null},a}(r.Component);t.a=Object(y.b)(k)},2515:function(e,t,n){"use strict";var r=n(0),a=n(2194),o=n(47),i=n.n(o),s=n(1947),c=n(898),l=n(2195),u=n.n(l),d=1,p=2,f=3,m=function(e){var t=e.className;return r.createElement("div",{className:i()(u.a.container,t)},r.createElement("div",{className:u.a.imageSection},r.createElement("div",{className:u.a.leftImageSection},r.createElement(s.b,{rank:d,className:u.a.firstRank}),r.createElement(c.a,{src:"",className:u.a.mainImage})),r.createElement("div",{className:u.a.rightImageSection},r.createElement("div",{className:u.a.subImageWrapper},r.createElement(s.b,{rank:p,isNumberOnly:!0,className:u.a.subRank}),r.createElement(c.a,{src:"",className:u.a.subImage})),r.createElement("div",{className:u.a.subImageWrapper},r.createElement(s.b,{rank:f,isNumberOnly:!0,className:u.a.subRank}),r.createElement(c.a,{src:"",className:u.a.subImage})))),r.createElement("div",{className:u.a.name}," "))},h=n(2196),v=n.n(h),b=new Array(3).fill();function g(){}t.a=function(){return r.createElement(a.a,{onPageChange:g},[r.createElement("div",{key:1,className:v.a.page},b.map(function(e,t){return r.createElement(m,{key:t,className:v.a.item})}))])}},2624:function(e,t,n){"use strict";var r=n(0),a=n(76),o=n(2360),i=n(1128),s=n(2362),c=n(455),l=n(31),u=n(2625),d=n(206),p=n(132),f=n(3660),m=n.n(f);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){v(o,r,a,i,s,"next",e)}function s(e){v(o,r,a,i,s,"throw",e)}i(void 0)})}}var g=function(e){var t,n;function a(t){var n;return(n=e.call(this,t)||this).loadTopProductItems=b(regeneratorRuntime.mark(function e(){var t,r,a,o,i,s,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,r=t.topProductItems,a=t.itemStore,o=t.isActive,i=n.state,s=i.isFetching,c=i.isItemsFetched,s||c||!o){e.next=11;break}if(!(l=r.filter(function(e){return!a[e.itemid.toString()]}).map(function(e){return{itemid:e.itemid,shopid:e.shopid}})).length){e.next=10;break}return n.setState({isFetching:!0}),e.next=8,n.props.fetchBatchItem(l,function(){n.setState({isItemsFetched:!0,isFetching:!1})});case 8:e.next=11;break;case 10:n.setState({isItemsFetched:!0});case 11:case"end":return e.stop()}},e)})),n.universalDataFetch=b(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.loadTopProductItems();case 2:case"end":return e.stop()}},e)})),n.state={isFetching:!1,isItemsFetched:!1},n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var c=a.prototype;return c.UNSAFE_componentWillMount=function(){this.loadTopProductItems()},c.componentDidUpdate=function(){this.loadTopProductItems()},c.shouldComponentUpdate=function(){return this.props.isActive},c.render=function(){var e=this.props,t=e.items,n=e.recommendationAlgorithm,a=e.recommendationInfo,c=e.landingPageName,l=e.clusterName,u=e.clusterKey,d=e.index;return this.state.isItemsFetched?t.length?r.createElement(r.Fragment,null,t.filter(function(e){return e.stock>0}).slice(0,30).map(function(e,t){return r.createElement(o.a,{item:e,key:e.itemid,rank:t+1,customSoldCount:_(e.sold),className:m.a.itemCard,recommendationAlgorithm:n,recommendationInfo:a,landingPageName:c,tabName:l,clusterKey:u,tabLocation:d})})):r.createElement(s.a,null):r.createElement(i.a,null)},a}(r.Component);function _(e){return"ID"===l.LOCALE&&e&&e>1e3?Object(p.c)(l.LOCALE,1001)+"+":e}t.a=Object(a.connect)(function(e,t){var n=Object(d.getItemStore)(e).items,r=t.topProductItems.map(function(e){return n[e.itemid]&&(e.score||e.count)?h({},n[e.itemid],{sold:e.score||e.count}):n[e.itemid]}).filter(function(e){return e&&e.itemid&&e.item_status!==u.a.SOLD_OUT});return{itemStore:n,items:r}},{fetchBatchItem:c.a})(g)},2626:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r,a=n(21),o=n(282),i=n(9),s=n(1716);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=Object(a.a)(((r={})[s.a.REQUESTED]=function(e,t){var n,r=t.payload.key;return c({},e,((n={})[r]=c({},e[r]||{},{progress:i.b.REQ,error:0,state_update_time:0}),n))},r[s.a.SUCCESS]=function(e,t){var n,r,a=t.payload,s=a.key,l=a.section,u=a.offset,d=a.data,p=a.shouldReset,f=e[s],m=f&&f.data||function(e){var t;return{update_time:0,version:"",sections:(t={},t[e]={total:0,data:[]},t)}}(l);return c({},e,((r={})[s]=c({},e[s]||{error:0},{data:c({},m,{update_time:d.update_time,version:d.version,sections:c({},m.sections,(n={},n[l]={total:d.sections[l].total,data:Object(o.b)(p?[]:m.sections[l].data,d.sections[l].data,u)},n))}),progress:i.b.OK,state_update_time:Date.now()}),r))},r[s.a.FAILED]=function(e,t){var n,r=t.payload,a=r.key,o=r.error;return c({},e,((n={})[a]=c({},e[a]||{state_update_time:0},{progress:i.b.ERR,error:o}),n))},r),{})},2658:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(41),a=n(16),o=n(3),i=n(1491);var s=n(2138);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){var n,r={update_time:e.data.update_time,version:e.data.version,sections:(n={},n[t]={total:0,data:[]},n)},a=e.data.sections.find(function(e){return e&&e.key===t});if(!a)return r;var o=a.index,i=a.data,s=a.total;return r.sections[t].total=s||0,o&&i&&o.forEach(function(e){var n=i.top_product.find(function(t){return t.key===e.key});n&&r.sections[t].data.push(function(e){var t=e.list,n=c({},function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["list"]),{list:{total:0,data:[]}});if(!t)return n;var r=t.index,a=t.data,o=t.total;n.list.total=o||0,a&&a.item_lite&&r.forEach(function(e){var t=a.item_lite.find(function(t){return t.key===e.key});t&&n.list.data.push(t)});return n}(n))}),r}var u=n(1716);function d(e){var t=e.sortType,n=e.limit,c=void 0===n?20:n,d=e.offset,f=void 0===d?0:d,m=e.getStore,h=e.onFinish,v=e.shouldSkipCall,b=e.shouldReset,g=e.version,_=Object(s.d)(t),y=u.b[t],C=Object(a.f)({bundle:t===i.b.PRICE?"top_sold_product_microsite_bp":"top_sold_product_microsite",limit:c,offset:f,version:f>0&&g||void 0});return Object(r.a)({apiCall:function(){return function(e){return Object(o.fetchInfo)(""+i.c+e)}(C)},actions:[function(){return{type:u.a.REQUESTED,payload:{key:_}}},function(e,t){return{type:u.a.SUCCESS,payload:{key:_,section:y,offset:f,data:l(t,y),shouldReset:b}}},function(e,t){return{type:u.a.FAILED,payload:{key:_,error:t.error}}}],shouldSkipCall:m&&!v?p(t,m):v,onFinish:h})}function p(e,t){var n=Object(s.d)(e);return function(e){var r=t(e),a=r&&r[n];return!(!a||!a.state_update_time)&&a.state_update_time>Date.now()-6e4}}},3660:function(e,t,n){e.exports={itemCard:"_2QfAXF"}},3775:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(76),o=n(53),i=n(47),s=n.n(i),c=n(855),l=n(1103),u=n(1658),d=n(1946),p=n(910),f=n(2166),m=n(2167),h=n.n(m),v=function(e){var t=e.clusters,n=e.landingPageName,a=e.activeKey,o=e.className,i=e.onClick;return r.createElement("div",{className:s()(h.a.container,o||"")},t.map(function(e,t){return r.createElement(f.a,{key:t,categoryId:e.label||"",name:e.name||"",isActive:a===e.label,onClick:i,index:t,landingPageName:n})}))},b=n(80),g=n(2168),_=n.n(g),y=200,C=function(e){var t=e.dropdownItems,n=e.activeKey,a=e.landingPageName,o=e.onClickDropdownItem,i=r.useState(!1),s=i[0],c=i[1],l=r.useCallback(function(){c(!0)},[]),u=r.useCallback(function(){c(!1)},[]),f=r.useRef(null);r.useEffect(function(){var e=f.current;return e&&(e.addEventListener("mouseenter",l),e.addEventListener("mouseleave",u)),function(){e&&(e.removeEventListener("mouseenter",l),e.removeEventListener("mouseleave",u))}},[u,l]);var m=r.useCallback(function(e){o(e);var t=f.current;t&&t.removeEventListener("mouseenter",l),u(),window.setTimeout(function(){t&&t.addEventListener("mouseenter",l)},y)},[u,l,o]);return r.createElement("div",{className:_.a.dropdownButton,ref:f},r.createElement(p.b,{target:r.createElement(d.a,{name:Object(b.t)("label_other_top_products"),isDropdown:!0}),open:s,position:p.a.BOTTOM_RIGHT,showArrow:!0,fixedPosition:!0,arrowWidth:30,arrowHeight:10,arrowBackgroundColor:"white",margin:0,closeOnClickOutside:!1,popover:r.createElement(v,{clusters:t,activeKey:n||t[0]&&t[0].label||"",className:_.a.dropdown,onClick:m,landingPageName:a})}))},I=n(2169),E=n.n(I),w=7,S=20,O=0,T=2;function k(e){return e.length>w}function N(e,t,n){if(!k(e))return e;var r=function(e,n){return t?e.label===t:n===O};if(!n||!n.length){var a=e.findIndex(r),o=e[a];return a<w-1||!o?e.slice(0,w-1):[o].concat(e.slice(0,w-2))}var i=n.findIndex(r);if(-1!==i&&i<w-1)return n;var s=e.findIndex(r);return-1===s?n:[e[s]].concat(e.slice(0,w-2))}var x=Object(c.b)(function(e){var t=e.clusters,n=e.clusterId,a=e.landingPageName,o=e.children,i=e.onClusterChange,s=r.useState(N(t,n)),c=s[0],p=s[1],f=function(e,t){if(!t)return O;var n=e.findIndex(function(e){return e.label===t});return-1===n?O:n}(c,n);r.useEffect(function(){p(function(e){return N(t,n,e)})},[n,t]);var m=k(t),h=r.useCallback(function(e){i(e)},[i]),v=r.useCallback(function(e){i(e)},[i]),b=r.useCallback(function(e){return m&&e===w-1},[m]);if(!c.length)return null;var g=function(e){var t=e.clusters,n=e.tabData,a=e.activeIndex,o=e.activeClusterId,i=e.isExceedMaxTabs,s=e.landingPageName,c=e.onTabClick,l=e.onDropdownItemClick,u=n.map(function(e,t){return r.createElement(d.a,{name:e.name||"",isActive:t===a,key:e.label||t,categoryId:e.label,index:t,landingPageName:s,onClick:function(){e.label&&c(e.label)}})});return i&&u.push(r.createElement(C,{dropdownItems:t.slice(0,S),activeKey:o,onClickDropdownItem:l,landingPageName:s})),u}({clusters:t,tabData:c,activeIndex:f,activeClusterId:n,isExceedMaxTabs:m,landingPageName:a,onTabClick:h,onDropdownItemClick:v}),_=function(e){var t=e.tabData,n=e.activeIndex,a=e.children,o=e.isExceedMaxTabs,i=t.map(function(e,t){return t===n?r.createElement("div",{className:E.a.container,key:e.label},r.createElement(l.a,null),a(e,t,!0)):null});return o&&i.push(null),i}({tabData:c,activeIndex:f,children:o,isExceedMaxTabs:m});return c.length>T?r.createElement(u.a,{activeIndex:f,header:g,headerTop:0,shouldStopChangeTab:b,className:m?E.a.withDropdown:void 0},_):r.createElement("div",{className:E.a.container},o(c[0],0,!0))}),P=n(2624),j=n(268),R=n(2626),A=n(2138),L=n(2658),D=n(118),W=n(16),H=n(421),B=n(1491),M=n(9),F=n(1988),U=n.n(F);function X(e){return e[H.n]}t.default=Object(o.d)(Object(a.connect)(function(e){return{topProductStore:X(e)}},{fetchTopProductMicrosite:L.a}),j.c)(function(e){var t=e.history,n=e.location,a=e.topProductStore,o=e.injectAsyncReducer,i=e.fetchTopProductMicrosite;r.useEffect(function(){var e;o(((e={})[H.n]=R.a,e))},[o]),r.useEffect(function(){var e=Object(A.c)(a,B.b.SALES);a&&[M.b.INIT,M.b.ERR].includes(e)&&i({offset:0,limit:B.a,sortType:B.b.SALES,getStore:X})},[i,a]);var l=r.useCallback(function(e){t.replace(Object(D.topProducts)(e))},[t]),u=Object(A.b)(a,B.b.SALES),d=Object(W.i)(n.search).catId,p=Object(b.t)("label_top_products");return r.createElement("div",{className:s()(U.a.container,"container")},r.createElement("h1",{className:U.a.pageTitle},p),r.createElement(x,{clusters:u,clusterId:d,onClusterChange:l,landingPageName:p},function(e,t,n){return r.createElement(c.a,null,r.createElement(P.a,{topProductItems:Object(A.a)(e),isActive:n,clusterKey:e.label||"",clusterName:e.name||"",recommendationInfo:e.info,landingPageName:p,index:t}))}))})},3777:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(76),o=n(53),i=n(2194),s=n(392),c=n(47),l=n.n(c),u=n(1947),d=n(898),p=n(2),f=n(1072),m=n(322),h=n(118),v=n(332),b=n(80),g=n(1249),_=n(2107),y=3,C=8,I=n(2195),E=n.n(I);function w(e){return e.item.partial}var S=1,O=2,T=3,k=3,N=function(e){for(var t=Object(f.a)("HomeTopProductsItem",e),n=Object(m.a)("HomeTopProductsItem",e),o=e.clusterKey,i=e.clusterItems,c=e.name,y=e.monthlySales,I=e.className,N=Object(h.topProducts)(o),x=Object(a.useSelector)(w),P=new Array(k).fill(null),j=0,R=0;R<k&&j<C;){var A=x[Object(p.a)(i,[j,"itemid"],0).toString()];A&&(P[R]=A.image,R+=1),j+=1}return r.createElement(s.a,{to:N,className:l()(E.a.container,I),innerRef:t,onClick:n},r.createElement("div",{className:E.a.imageSection},r.createElement("div",{className:E.a.leftImageSection},r.createElement(u.b,{rank:S,className:E.a.firstRank}),r.createElement(d.a,{src:Object(v.a)(P[0],!0),className:E.a.mainImage}),!!y&&r.createElement("div",{className:E.a.salesCount},Object(b.t)("label_monthly_sales",{count:Object(_.a)(g.g,y)}))),r.createElement("div",{className:E.a.rightImageSection},r.createElement("div",{className:E.a.subImageWrapper},r.createElement(u.b,{rank:O,isNumberOnly:!0,className:E.a.subRank}),r.createElement(d.a,{src:Object(v.a)(P[1],!0),className:E.a.subImage})),r.createElement("div",{className:E.a.subImageWrapper},r.createElement(u.b,{rank:T,isNumberOnly:!0,className:E.a.subRank}),r.createElement(d.a,{src:Object(v.a)(P[2],!0),className:E.a.subImage})))),r.createElement("div",{className:E.a.name},c))},x=n(2515),P=n(2626),j=n(2658),R=n(2138),A=n(455),L=n(268),D=n(282),W=n(1491),H=n(421),B=n(9),M=n(2196),F=n.n(M);function U(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var V=[B.b.INIT,B.b.REQ];function K(e){return e[H.n]}function G(e){return e.item.partial}t.default=Object(o.d)(L.c,Object(a.connect)())(function(e){var t=e.injectAsyncReducer,n=e.dispatch;r.useEffect(function(){var e;t(((e={})[H.n]=P.a,e))},[t]);var o=r.useState(0),s=o[0],c=o[1],l=r.useState([]),u=l[0],d=l[1];r.useEffect(function(){n(Object(j.a)({offset:0,limit:W.a,sortType:W.b.SALES,getStore:K}))},[n]);var p=Object(a.useSelector)(K),f=Object(a.useSelector)(G),m=Object(R.c)(p,W.b.SALES),h=Object(R.b)(p,W.b.SALES),v=r.useMemo(function(){return function(e){if(e.length<y)return null;var t=[].concat(e);return t.length%y!=0&&(t=Object(D.a)(t,y)),t}(h)},[h]);if(r.useEffect(function(){if(v&&v.length){var e=function(e){for(var t,n=e.clusters,r=e.page,a=e.itemStore,o=y*r,i=o+y,s=n.slice(o,i),c=[],l=U(s);!(t=l()).done;){var u=t.value,d=Object(R.a)(u).slice(0,C),p=d.filter(function(e){var t=a[""+e.itemid];return!(t&&t.itemid&&t.image||c.some(function(t){return t.itemid===e.itemid}))});c=c.concat(p)}return c.map(function(e){return{itemid:e.itemid,shopid:e.shopid}})}({clusters:v,page:s,itemStore:f}),t=e.filter(function(e){return u.every(function(t){return t!==e.itemid})});t.length&&(d(function(e){return[].concat(e,t.map(function(e){return e.itemid}))}),n(Object(A.a)(e,void 0,!1,{schemaFilter:["items","itemid","image"]})))}},[v,n,f,u,s]),V.includes(m))return r.createElement(x.a,null);if(!v)return null;var b=Object(D.c)(v,y);return r.createElement(i.a,{onPageChange:c},b.map(function(e,t){return r.createElement("div",{key:"tp-"+t,className:F.a.page},e.map(function(e,n){return r.createElement(N,{key:e.label||n,clusterKey:e.label||"",clusterItems:Object(R.a)(e),name:e.name||"",monthlySales:e.count||0,className:F.a.item,index:t*y+n,info:e.info})}))}))})},3779:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(47),o=n.n(a),i=n(76),s=n(855),c=n(2502),l=n(2624),u=n(206),d=n(382),p=n(195);var f=n(395),m=n(80),h=n(118),v=n(16),b=n(1491),g=n(1988),_=n.n(g);var y=function(e){var t,n;function a(t){var n;return(n=e.call(this,t)||this).onChangeCategory=function(e){n.props.history.replace(Object(h.topProducts)(e))},n.onChangeCategory=n.onChangeCategory.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n)),n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=a.prototype;return i.UNSAFE_componentWillMount=function(){this.props.categories.length||this.loadTopProducts()},i.shouldComponentUpdate=function(e){var t=this.props;return Object(f.a)(t,e,["catId","userId"],["categories"])},i.loadTopProducts=function(){var e=this.props.userId;this.props.fetchTopProducts(e,void 0,void 0,b.a)},i.render=function(){var e=this.props,t=e.categories,n=e.catId,a=Object(m.t)("label_top_products");return r.createElement("div",{className:o()(_.a.container,"container")},r.createElement("h1",{className:_.a.pageTitle},a),r.createElement(c.a,{categories:t,catId:n,onChangeCategory:this.onChangeCategory,landingPageName:a},function(e,t,n){return r.createElement(s.a,null,r.createElement(l.a,{topProductItems:e.data,isActive:n,recommendationAlgorithm:e.from,recommendationInfo:e.info,index:t,landingPageName:a,clusterName:e.name,clusterKey:e.key}))}))},a}(r.Component);t.default=Object(i.connect)(function(e,t){var n=t.location;return{categories:function(e,t){void 0===t&&(t=p.a.SALES);var n=Object(p.b)({sortBy:t});if(!(e&&e[n]&&e[n].data&&e[n].data.categories&&e[n].data.categories.length))return[];var r=e[n].data.categories,a=e[n].data.current_index||0;return[].concat(r.slice(a,r.length),r.slice(0,a))}(e.topProducts),catId:Object(v.i)(n.search).catId,userId:Object(u.getAccountInfo)(e).get("userid")}},{fetchTopProducts:d.c})(y)}}]);
//# sourceMappingURL=https://shopee.sg/assets/HomeTopProductBundle.d005f42f9776d8f7133c.js.map